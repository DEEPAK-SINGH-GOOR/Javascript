<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Page</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
        .card {
            width: 18rem;
            margin-top: 20px;
        }

        .container-fluid {
            padding-top: 20px;
        }

        .search-input {
            display: none;
            width: 200px;
            margin-left: 10px;
        }

        .search-form {
            display: flex;
            align-items: center;
        }

        .search-results {
            display: none;
            position: absolute;
            top: 60px;
            background-color: white;
            border: 1px solid #ddd;
            z-index: 1000;
            width: 200px;
        }

        .search-results p {
            padding: 8px;
            margin: 0;
            cursor: pointer;
        }

        .search-results p:hover {
            background-color: #f0f0f0;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid" id="navv">
            <a class="navbar-brand" href="#"><img
                    src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/JBL_logo.svg/2500px-JBL_logo.svg.png"
                    alt="" height="60px"></a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="./index.html" id="word">HOME</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./product.html" id="word">Products</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./myproduct.html" id="word">MyProduct</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./cart.html" id="word">Cart</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./sign.html" id="word">Sign Up</a>
                    </li>

                </ul>
                <div class="search-form d-flex" role="search">
                    <div class="row">
                        <div class="col-4"><i id="shop" class="fa-solid fa-cart-shopping text-dark" id="cartpage"></i></div>
                        <div class="col-4"><i id="search" class="fa-solid fa-magnifying-glass text-dark"></i></div>
                        <div class="col-4"><i id="sign" class="fa-solid fa-circle-user text-dark"></i></div>
                    </div>
                    <input type="text" class="search-input" id="searchInput" placeholder="Search...">
                    <div id="searchResults" class="search-results"></div>
                </div>
            </div>
        </div>
    </nav>
    <div class="container-fluid">
        <div class="row" id="productRow">
        </div>
    </div>

    <script type="module">
        const products = [
        {
                img: 'https://in.jbl.com/dw/image/v2/BFND_PRD/on/demandware.static/-/Sites-masterCatalog_Harman/default/dwfea2c1ef/1.JBL_Tune_770NC_Product%20Image_Hero_Black.png?sw=320&sh=320',
                cardTitle: 'JBL Tune 770NC',
                cardText: 'Adaptive Noise Cancellation wireless',
                textPrimary: 'Wireless',
                price: '$649',
                orderLink: '#'
            },
            {
                img: 'https://in.jbl.com/dw/image/v2/BFND_PRD/on/demandware.static/-/Sites-masterCatalog_Harman/default/dwadfd9daa/1_JBL_FLIP6_HERO_BLUE_29399_x1.png?sw=320&sh=320',
                cardTitle: 'JBL Flip 6',
                cardText: 'Adaptive Noise Cancellation wireless',
                textPrimary: 'Wireless',
                price: '$150',
                orderLink: '#'
            },
            {
                img: 'https://in.jbl.com/dw/image/v2/BFND_PRD/on/demandware.static/-/Sites-masterCatalog_Harman/default/dw1b7739f6/01.JBL_Tune%20Beam_Product%20Image_Hero_Black.png?sw=320&sh=320',
                cardTitle: 'JBL Tune Beam',
                cardText: 'Adaptive Noise Cancellation wireless',
                textPrimary: 'Wireless',
                price: '$200',
                orderLink: '#'
            },
            {
                img: 'https://in.jbl.com/dw/image/v2/BFND_PRD/on/demandware.static/-/Sites-masterCatalog_Harman/default/dwb44a1b56/1.JBL_Live%20Pro%202_Product%20image_Hero_Blue.png?sw=320&sh=320',
                cardTitle: 'JBL Live Pro Product',
                cardText: 'True wireless product with voice cancellation',
                textPrimary: 'Wireless',
                price: '$25.44',
                orderLink: '#'
            },
            {
                img: 'https://in.jbl.com/dw/image/v2/BFND_PRD/on/demandware.static/-/Sites-masterCatalog_Harman/default/dw0c49e244/JBL_GO_4_HERO_RED_48157_x4%20(1).png?sw=320&sh=320',
                cardTitle: 'JBL Go 4',
                cardText: 'True wireless product with voice cancellation',
                textPrimary: 'Wireless',
                price: '$30.45',
                orderLink: '#'
            },
            {
                img: 'https://in.jbl.com/dw/image/v2/BFND_PRD/on/demandware.static/-/Sites-masterCatalog_Harman/default/dwe8214719/JBL_Tune_310C_ProductImage_Hero_Blue.png?sw=320&sh=320',
                cardTitle: 'JBL Tune 305 USB',
                cardText: 'True wireless product with voice cancellation',
                textPrimary: 'Wireless',
                price: '$35.78',
                orderLink: '#'
            },
            {
                img: 'https://in.jbl.com/dw/image/v2/BFND_PRD/on/demandware.static/-/Sites-masterCatalog_Harman/default/dw1fc9b516/JBL_AUTHENTICS_500_HERO_42813_x3.png?sw=320&sh=320',
                cardTitle: 'JBL Authenics 500',
                cardText: 'True wireless product with voice cancellation',
                textPrimary: 'Wireless',
                price: '$30.45',
                orderLink: '#'
            },
            {
                img: 'https://in.jbl.com/dw/image/v2/BFND_PRD/on/demandware.static/-/Sites-masterCatalog_Harman/default/dw1896cd87/JBL_Tune_305C_USBC_Product%20Image_Hero_Black.png?sw=320&sh=320',
                cardTitle: 'JBL Tune 310 USB',
                cardText: 'True wireless product with voice cancellation',
                textPrimary: 'Wireless',
                price: '$35.78',
                orderLink: '#'
            }
        ];

        function renderProducts(products) {
            const productRow = document.getElementById('productRow');
            productRow.innerHTML = ''; // Clear previous products
            products.forEach((product, index) => {
                const productHTML = `
                    <div class="col-12 col-sm-12 col-md-6 col-xl-3 d-flex justify-content-center">
                        <div class="card">
                            <img src="${product.img}" class="card-img-top" alt="${product.cardTitle}">
                            <div class="card-body">
                                <h5 class="card-title">${product.cardTitle}</h5>
                                <p class="card-text">${product.cardText}</p>
                                <h6 class="text-primary">${product.textPrimary}</h6>
                                <h5 id="price${index}">${product.price}</h5>
                                <a href="${product.orderLink}" class="btn btn-danger">Order Now</a>
                                <a href="#" class="btn btn-danger addToCart" data-id="${index}" data-price="${parseFloat(product.price.replace('$', ''))}">Add To Cart <i class="fa-solid fa-cart-shopping text-dark"></i></a>
                            </div>
                        </div>
                    </div>
                `;
                productRow.insertAdjacentHTML('beforeend', productHTML);
            });

            document.querySelectorAll('.addToCart').forEach(button => {
                button.addEventListener('click', function (event) {
                    event.preventDefault();
                    const productId = parseInt(this.getAttribute('data-id'));
                    const productPrice = parseFloat(this.getAttribute('data-price'));
                    addToCart(productId, productPrice);
                });
            });
        }

        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        function addToCart(id, price) {
            const existingProduct = cart.find(item => item.id === id);
            if (existingProduct) {
                existingProduct.quantity += 1;
                existingProduct.totalPrice += price;
            } else {
                const product = products[id];
                cart.push({ id, img: product.img, cardTitle: product.cardTitle, price, quantity: 1, totalPrice: price });
            }
            localStorage.setItem('cart', JSON.stringify(cart));
            alert('Product added to cart!');
            updateCartBadge();
        }

        function updateCartBadge() {
            // Implement your cart badge update logic here
        }

        function filterProducts(query) {
            const filteredProducts = products.filter(product => 
                product.cardTitle.toLowerCase().includes(query.toLowerCase())
            );
            renderProducts(filteredProducts);
        }

        document.getElementById('search').addEventListener('click', () => {
            const searchInput = document.getElementById('searchInput');
            searchInput.style.display = searchInput.style.display === 'none' || searchInput.style.display === '' ? 'inline' : 'none';
            searchInput.focus(); // Optional: focus on the input box when it appears
        });

        document.getElementById('searchInput').addEventListener('input', (event) => {
            const query = event.target.value;
            const searchResults = document.getElementById('searchResults');
            if (query.length > 0) {
                const filteredProducts = products.filter(product => 
                    product.cardTitle.toLowerCase().includes(query.toLowerCase())
                );
                searchResults.innerHTML = filteredProducts.map(product => 
                    `<p data-id="${products.indexOf(product)}">${product.cardTitle}</p>`
                ).join('');
                searchResults.style.display = 'block';
            } else {
                searchResults.style.display = 'none';
            }
        });

        document.getElementById('searchResults').addEventListener('click', (event) => {
            if (event.target.tagName === 'P') {
                const productId = parseInt(event.target.getAttribute('data-id'));
                const product = products[productId];
                window.location.href = `./product.html?productId=${productId}`;
            }
        });

        // Render products on page load
        renderProducts(products);

        document.getElementById('shop').addEventListener('click', (e) =>{
                e.preventDefault();
                window.location.href = "cart.html";
        });

        document.getElementById('sign').addEventListener('click', (e) =>{
                e.preventDefault();
                window.location.href = "sign.html";
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>

</html> 


<!--
        const courses = [
            {
                name: "Learn Microsoft Flow",
                category: "Office Productivity",
                image: "https://huroorkee.ac.in/blog/wp-content/uploads/2024/04/Courses-After-12th-Arts-750x458.jpg",
                description: "Linear Algebra refresher for machine learning. Basics + Python implementation – Free Course",
                sale_price_usd: 100.0,
                sale_end: "2024-07-24T08:01:51.161000",
                url: "https://www.udemy.com/course/linear-algebra-basics-for-machine-learning/"
            },
        ];

        // Function to create HTML for each course card
        function createCourseCard(course) {
            return `
        <div class="course-card">
          <img class="course-image" src="${course.image}" alt="${course.name}">
          <div class="course-name">${course.name}</div>
          <div class="course-category">${course.category}</div>
          <div class="course-description">${course.description}</div>
          <div class="course-price">Sale Price: ${course.sale_price_usd} USD</div>
          <div>Sale Ends: ${new Date(course.sale_end).toLocaleDateString()}</div>
          <a class="course-link btn btn-primary mt-3" href="${course.url}" target="_blank">Go to Course</a>
          <button class="btn btn-primary mt-3" onclick="addToDashboard('${course.name}')">Add to Dashboard</button>
        </div>
      `;
        }

        function populateGrid(courseList = courses) {
            const gridContainer = document.querySelector('.grid-container');
            gridContainer.innerHTML = courseList.map(course => createCourseCard(course)).join('');
        }

        populateGrid();


        function filterCourses(searchText) {
            searchText = searchText.toLowerCase();
            const filteredCourses = courses.filter(course =>
                course.name.toLowerCase().includes(searchText) ||
                course.category.toLowerCase().includes(searchText)
            );
            populateGrid(filteredCourses);
        }

        document.getElementById('searchInput').addEventListener('input', function (event) {
            filterCourses(event.target.value);
        }); -->
